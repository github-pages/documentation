<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="task" name="DC.Type" />
<meta name="DC.Title" content="Setting up the Database" />
<meta content="XHTML" name="DC.Format" />
<meta content="InstDB" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="../../commonltr.css" type="text/css" rel="stylesheet" />
<link href="../../book.css" type="text/css" rel="stylesheet" />
<title>Setting up the Database</title>
</head>
<body id="InstDB">


    <h1 class="topictitle1">Setting up the Database</h1>

    <div>
        <div class="section">
            <p><span>APP</span> requires and stores its data in the <samp class="codeph">bssapp</samp> PostgreSQL database. </p>

            <p>The database is created by executing installation scripts. It is initialized with the appropriate schema and settings. </p>

            <div class="note"><span class="notetitle">Note:</span> When initializing the database, you can also register a service controller with its settings. For details, refer to <a href="../../APPInt/APP/t_RegisterAPP.htm">Registering a Service Controller</a>.</div>

            <p>Proceed as follows:</p>

        </div>

        
        <ol><li class="stepexpand">
                <span>Make sure that the database server is running.</span>
            </li>
<li class="stepexpand">
                <span>Open the command prompt (Windows) or a terminal session (UNIX/Linux).</span>
            </li>
<li class="stepexpand">
                <span>Set the following environment variable for your current session:</span>
                 
                    <p><samp class="codeph">DB_INTERPRETER</samp>: The absolute path and name of the <samp class="codeph">psql</samp> executable of PostgreSQL. The executable is usually located in the <samp class="codeph">bin</samp> subdirectory of the PostgreSQL installation directory.</p>

                    <p>Example (Unix/Linux):</p>

                    <pre class="codeblock">export DB_INTERPRETER="/opt/PostgreSQL/9.1/bin/psql"</pre>

                    <p>Example (Windows):</p>

                    <pre class="codeblock">set DB_INTERPRETER="C:\Program Files\PostgreSQL\9.1\bin\psql"</pre>

                
            </li>
<li class="stepexpand">
                <span>Create the database by executing the <samp class="codeph">build-db.xml</samp> file in <samp class="codeph">&lt;install_pack_dir&gt;/install</samp> as follows:</span>
                 
                    <div class="p">
                        <pre class="codeblock">&lt;ANT_HOME&gt;/bin/ant -f build-db.xml initDB</pre>

                    </div>

                    <div class="p">If you set an ID or password other than <samp class="codeph">postgres</samp> for the PostgreSQL user account (<samp class="codeph">postgres</samp>) when installing the database management system, you have to specify the ID or password with the call to the <samp class="codeph">build-db.xml</samp> file as follows: <pre class="codeblock">&lt;ANT_HOME&gt;/bin/ant -f build-db.xml initDB
   -Ddb.admin.user=&lt;user ID&gt; -Ddb.admin.pwd=&lt;password&gt;</pre>
</div>

                    <div class="note"><span class="notetitle">Note:</span> It may be required to enclose the <samp class="codeph">-Ddb.admin.user=&lt;user ID&gt;</samp> and <samp class="codeph">-Ddb.admin.pwd=&lt;password&gt;</samp> in double or single quotes depending on the operating system. </div>

                
            </li>
</ol>

        
        
        <div class="section">
            <p>If the setup of the database fails with errors, proceed as follows: </p>

            <div class="p">
                <ol>
                    <li class="liexpand">Check and correct the configuration files. </li>

                    <li class="liexpand">Execute the <samp class="codeph">build-db.xml</samp> file in <samp class="codeph">&lt;install_pack_dir&gt;/install</samp> as follows: <div class="p">
                            <pre class="codeblock">&lt;ANT_HOME&gt;/bin/ant -f build-db.xml DROP.dbsAndUsers</pre>

                        </div>

                    </li>

                    <li class="liexpand">Repeat the setup.</li>

                </ol>

            </div>

        </div>

    </div>


</body>
</html>