<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xml:lang="en-us" lang="en-us">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="copyright" content="(C) Copyright 2005"/>
<meta name="DC.rights.owner" content="(C) Copyright 2005"/>
<meta name="DC.Type" content="concept"/>
<meta name="DC.Title" content="Relational Database"/>
<meta name="DC.Format" content="XHTML"/>
<meta name="DC.Identifier" content="Relational_Database_63"/>
<meta name="DC.Language" content="en-us"/>
<link rel="stylesheet" type="text/css" href="../../commonltr.css"/>
<link rel="stylesheet" type="text/css" href="../../book.css"/>
<title>Relational Database</title>
</head>
<body id="Relational_Database_63">


    <h1 class="topictitle1">Relational Database</h1>

    <div>
        <div class="section"><span>APP stores its data in a relational database.</span> The following database management system (DBMS) is supported:<p>PostgreSQL, version 9.1.12.</p>
<p>Install the DBMS as described in its documentation. </p>
<p>If required, you can use a separate machine for the APP database.</p>
</div>

        <div class="section"><h4 class="sectiontitle">Setup and Configuration</h4>
            
            <p>Edit the file</p>

            <p><samp class="codeph">&lt;postgres_dir&gt;/data/postgresql.conf</samp></p>

            <p>as follows (<samp class="codeph">&lt;postgres_dir&gt;</samp> is the PostgreSQL installation directory): </p>

            <div class="p">
                <ol>
                    <li class="liexpand">Set the <samp class="codeph">max_prepared_transactions</samp> property value to <samp class="codeph">50</samp>.</li>

                    <li class="liexpand">Set the <samp class="codeph">max_connections</samp> property value to <samp class="codeph">210</samp>. <p>This property determines the maximum number of concurrent connections to the database server.</p>
<p>Note the following: This setting is used in combination with the JDBC pool size settings for the domains on your application server. If you change the JDBC pool size, you might need to adapt the <samp class="codeph">max_connections</samp> setting. Refer to the <span>OSCM</span>
                            <em>Operator's Guide</em>, section <em>Tuning Performance</em>, for details.</p>
</li>

                    <li class="liexpand">Set the <samp class="codeph">listen_addresses</samp> property value: <p>Specify the IP addresses of all application servers on which the database server is to listen for connections from client applications. If you use the entry <samp class="codeph">'*'</samp>, which corresponds to all available IP addresses, you must be aware of possible security holes. </p>
</li>

                    <li class="liexpand">Save the file. </li>

                </ol>

            </div>

            <p>If you use a server name in all configuration files instead of <samp class="codeph">localhost</samp> during installation, edit the file </p>

            <p><samp class="codeph">&lt;postgres_dir&gt;/data/pg_hba.conf</samp>
            </p>

            <p>as follows (<samp class="codeph">&lt;postgres_dir&gt;</samp> is the PostgreSQL installation directory):</p>

            <div class="p">
                <ol>
                    <li class="liexpand"><span>Add the IP address of the application server that is to host </span><span>APP</span>.<p>For example:</p>
<div class="p">
                            <pre class="codeblock">host all all 123.123.12.1/32 md5 </pre>

                        </div>
<p>Also add the application server's IPv6 address. </p>
<p>For example: </p>
<div class="p">
                            <pre class="codeblock">host all all fe80::cdfb:b6ed:9b38:cf17/128 md5</pre>

                        </div>
<p>There are authentication methods other than <samp class="codeph">md5</samp>. For details, refer to the PostgreSQL documentation. </p>
</li>

                    <li class="liexpand"><span>Save the file.</span></li>

                </ol>

            </div>

            <p>Restart your PostgreSQL server for the changes to take effect.</p>

        </div>

    </div>


</body>
</html>